<%@ page contentType="text/html; charset=utf-8" %>
<html>
<head>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<title>도서 수정</title>
</head>
<body>
<fmt:setLocale value='<%=request.getParameter("language") %>'/>
<fmt:bundle basename="bundle.message">
<div class="container py-4">
	<%@include file="menu.jsp" %>
	
	<div class="p-5 mb-4 bg-body-tertiary rounded-3">
		<div class="container-fluid py-5">
			<h1 class="display-5 fw-bold"><fmt:message key="title"/>도서 수정</h1>
			<p class="col-md-8 fs-4">Book Updating</p>
		</div>
	</div>
	<%@ include file="dbconn.jsp" %>
	<%
		String bookId=request.getParameter("id");
		PreparedStatement ps = null;
		ResultSet rs = null;
		String sql="SELECT * FROM book WHERE b_id=?";
		ps=conn.prepareStatement(sql);
		rs=ps.executeQuery();
		if (rs.next()){
	%>
	<div class="row align-items-md-stretch">
		<div class="col-md-5">
			<img src="resources/images/<%=rs.getString("b_filename") %>" alt="image" style="width: 100%" />
		</div>
		<div class="col-md-7">
		<form name="newBook" action="./processUpdateBook.jsp" method="post" enctype=" multipart/form-data">
		
		<div class="mb-3 row">
			<label class="col-sm-5">도서코드</label>
			<div class="col-sm-5">
				<input type="text" id="bookId" name="bookId" class="form-control" value="<%=rs.getString("b_id")%>">
			</div>
		</div>
		<div class="mb-3 row">
			<label class="col-sm-5">도서명</label>
			<div class="col-sm-3">
				<input type="text" id="name" name="name" class="form-control" value="<%=rs.getString("b_name")%>">
			</div>
		</div>
		<div class="mb-3 row">
			<label class="col-sm-5">가격</label>
			<div class="col-sm-5">
				<input type="text" id="unitPrice" name="unitPrice" class="form-control" value="<%=rs.getString("b_unitPrice")%>">
			</div>
		</div>
		<div class="mb-3 row">
			<label class="col-sm-5">저자</label>
			<div class="col-sm-3">
				<input type="text" id="author" name="author" class="form-control" value="<%=rs.getString("b_author")%>">
			</div>
		</div>
		<div class="mb-3 row">
			<label class="col-sm-5">출판사</label>
			<div class="col-sm-3">
				<input type="text" id="publisher" name="publisher" class="form-control" value="<%=rs.getString("b_publisher")%>">
			</div>
		</div>
		
		
		</form>
	</div>
	
	<jsp:include page="footer.jsp"></jsp:include>
</div>
</fmt:bundle>
</body>
</html>